# æ¸¸æˆé™ªç©å¹³å°ç®¡ç†ç³»ç»Ÿ - å¯åŠ¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. å¯åŠ¨åç«¯æœåŠ¡å™¨
```bash
cd backend/server
node src/index.js
```
**åç«¯æœåŠ¡åœ°å€**: http://localhost:3000

### 2. å¯åŠ¨å‰ç«¯æœåŠ¡å™¨
```bash
cd frontend
npx vite --host --port 3004
```
**å‰ç«¯æœåŠ¡åœ°å€**: http://localhost:3004

## âš ï¸ é‡è¦æç¤º

**å‰ç«¯å¯åŠ¨é—®é¢˜è§£å†³æ–¹æ¡ˆ**ï¼š
- å¦‚æœä½¿ç”¨ `npm run dev` å¯åŠ¨å¤±è´¥ï¼Œè¯·ç›´æ¥ä½¿ç”¨ `npx vite --host --port 3004` å‘½ä»¤
- è¿™æ˜¯ç”±äº package.json ä¸­çš„è„šæœ¬é…ç½®é—®é¢˜å¯¼è‡´çš„
- ç›´æ¥ä½¿ç”¨ vite å‘½ä»¤å¯ä»¥ç»•è¿‡è¿™ä¸ªé—®é¢˜

## ğŸ”” é€šçŸ¥ç³»ç»Ÿä¿®å¤

å·²ä¿®å¤é€šçŸ¥åœ¨ä¸åŒæ ‡ç­¾é¡µä¹‹é—´é‡å¤æ˜¾ç¤ºçš„é—®é¢˜ï¼š
- åˆ›å»ºäº†å…¨å±€é€šçŸ¥çŠ¶æ€ç®¡ç†å™¨ (`NotificationContext.tsx`)
- ä½¿ç”¨ localStorage è·¨æ ‡ç­¾é¡µå…±äº«å·²æ˜¾ç¤ºçš„é€šçŸ¥ID
- é˜²æ­¢åŒä¸€é€šçŸ¥åœ¨å¤šä¸ªæ ‡ç­¾é¡µä¸­é‡å¤å¼¹å‡º toast æç¤º

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ª**æ¸¸æˆé™ªç©å¹³å°ç®¡ç†ç³»ç»Ÿ**ï¼ŒåŒ…å«å‰ç«¯Reactåº”ç”¨å’Œåç«¯Node.js APIæœåŠ¡ã€‚

### ğŸ¯ ä¸»è¦åŠŸèƒ½
- ğŸ‘¥ ç”¨æˆ·ç®¡ç† (ç”¨æˆ·ã€é™ªç©ã€ç®¡ç†å‘˜)
- ğŸ“¦ è®¢å•ç®¡ç†
- ğŸ® æ¸¸æˆç®¡ç†  
- ğŸ ç¤¼ç‰©ç³»ç»Ÿ
- ğŸ’° æç°ç®¡ç†
- ğŸ“Š ç»Ÿè®¡åˆ†æ
- ğŸ”” é€šçŸ¥ç³»ç»Ÿ
- ğŸ” æƒé™ç®¡ç†

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
vue-manage-system-master/
â”œâ”€â”€ frontend/                    # å‰ç«¯Reactåº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/          # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ contexts/          # React Context
â”‚   â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ types/             # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ config/            # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ server/                 # åç«¯Node.jsæœåŠ¡
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ dao/           # æ•°æ®è®¿é—®å±‚
â”‚       â”‚   â”œâ”€â”€ routes/        # è·¯ç”±å®šä¹‰
â”‚       â”‚   â”œâ”€â”€ middleware/    # ä¸­é—´ä»¶
â”‚       â”‚   â””â”€â”€ index.js       # å…¥å£æ–‡ä»¶
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ .env               # ç¯å¢ƒå˜é‡
â””â”€â”€ sql/                       # æ•°æ®åº“è„šæœ¬
    â”œâ”€â”€ init.sql              # åˆå§‹åŒ–è„šæœ¬
    â””â”€â”€ seed_data.sql         # æµ‹è¯•æ•°æ®
```

## ğŸ”§ æŠ€æœ¯æ ˆ

### å‰ç«¯ (Frontend)
- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **UIæ¡†æ¶**: Tailwind CSS
- **è·¯ç”±**: React Router DOM v7
- **çŠ¶æ€ç®¡ç†**: React Context (AuthContext)
- **å›¾è¡¨åº“**: Recharts
- **é€šçŸ¥**: Sonner
- **è¡¨å•**: React Hook Form + Zod
- **ç«¯å£**: 3004

### åç«¯ (Backend)
- **è¿è¡Œæ—¶**: Node.js + Express
- **è¯­è¨€**: TypeScript (ç¼–è¯‘ä¸ºJavaScript)
- **æ•°æ®åº“**: MySQL 8.0
- **æ•°æ®åº“é©±åŠ¨**: mysql2 (åŸç”ŸSQL)
- **è®¤è¯**: JWT + bcrypt
- **æ–‡ä»¶ä¸Šä¼ **: multer
- **è·¨åŸŸ**: CORS
- **ç¯å¢ƒé…ç½®**: dotenv
- **ç«¯å£**: 3000

## ğŸ—„ï¸ æ•°æ®åº“è¡¨ç»“æ„

| è¡¨å | è¯´æ˜ |
|------|------|
| `users` | ç”¨æˆ·è¡¨ |
| `players` | é™ªç©è¡¨ |
| `managers` | ç®¡ç†å‘˜è¡¨ |
| `games` | æ¸¸æˆè¡¨ |
| `orders` | è®¢å•è¡¨ |
| `comments` | è¯„è®ºè¡¨ |
| `gifts` | ç¤¼ç‰©è¡¨ |
| `gift_records` | ç¤¼ç‰©è®°å½•è¡¨ |
| `services` | æœåŠ¡è¡¨ |
| `withdrawals` | æç°è¡¨ |
| `statistics` | ç»Ÿè®¡è¡¨ |

## ğŸ”— å‰åç«¯è¿æ¥é…ç½®

### å½“å‰é…ç½®çŠ¶æ€ âœ…
- **å‰ç«¯**: http://localhost:3004
- **åç«¯**: http://localhost:3000
- **APIåŸºç¡€URL**: http://localhost:3000/api

### ç¯å¢ƒå˜é‡é…ç½®

**åç«¯ (.env)**:
```env
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASS=YHZ@yhz050401
DB_NAME=author_center
JWT_SECRET=751095938002a405d4d1c03c80238d1aa49ad9b798dfc2f0a6ff1cd5d88d02d2
```

**å‰ç«¯ (.env)**:
```env
VITE_API_URL=http://localhost:3000/api
```

### APIé…ç½®æ–‡ä»¶

**å‰ç«¯APIé…ç½®** (`frontend/src/config/api.ts`):
```typescript
export const API_BASE_URL = process.env.NODE_ENV === 'development' 
  ? 'http://localhost:3000/api'  // å¼€å‘ç¯å¢ƒ
  : '/api';                      // ç”Ÿäº§ç¯å¢ƒ
```

## ğŸ› ï¸ è¯¦ç»†å¯åŠ¨æ­¥éª¤

### 1. ç¯å¢ƒå‡†å¤‡
- Node.js 16+ 
- MySQL 8.0
- pnpm (æ¨è) æˆ– npm

### 2. æ•°æ®åº“è®¾ç½®
```sql
-- 1. åˆ›å»ºæ•°æ®åº“
CREATE DATABASE author_center;

-- 2. æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬
mysql -u root -p author_center < backend/sql/init.sql

-- 3. å¯¼å…¥æµ‹è¯•æ•°æ® (å¯é€‰)
mysql -u root -p author_center < backend/sql/seed_data.sql
```

### 3. åç«¯å¯åŠ¨
```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend/server

# å®‰è£…ä¾èµ– (å¦‚æœè¿˜æ²¡å®‰è£…)
npm install

# ç¼–è¯‘TypeScript (å¦‚æœéœ€è¦)
npx tsc

# å¯åŠ¨æœåŠ¡å™¨
node src/index.js
```

**å¯åŠ¨æˆåŠŸæ ‡å¿—**:
```
âœ… è·¯ç”± userRouter å·²æ­£ç¡®å¯¼å…¥
âœ… è·¯ç”± playerRouter å·²æ­£ç¡®å¯¼å…¥
...
Server is running at http://localhost:3000
```

### 4. å‰ç«¯å¯åŠ¨
```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ– (å¦‚æœè¿˜æ²¡å®‰è£…)
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

**å¯åŠ¨æˆåŠŸæ ‡å¿—**:
```
VITE v6.3.5  ready in 185 ms

âœ  Local:   http://localhost:3004/
âœ  Network: http://192.168.10.36:3004/
```

## ğŸ” è®¤è¯æœºåˆ¶
- ä½¿ç”¨JWT tokenè¿›è¡Œèº«ä»½éªŒè¯
- Tokenå­˜å‚¨åœ¨localStorageä¸­
- æ¯ä¸ªAPIè¯·æ±‚è‡ªåŠ¨æ·»åŠ Authorizationå¤´
- æ”¯æŒä¸‰ç§ç”¨æˆ·ç±»å‹ï¼šç”¨æˆ·ã€é™ªç©ã€ç®¡ç†å‘˜

## ğŸ“± ä¸»è¦é¡µé¢è·¯ç”±

### ç”¨æˆ·ç«¯
- `/` - é™ªç©å¤§å…
- `/user/home` - ç”¨æˆ·ä¸»é¡µ
- `/user/orders` - æˆ‘çš„è®¢å•
- `/user/favorites` - æˆ‘çš„æ”¶è—

### é™ªç©ç«¯  
- `/player/profile` - é™ªç©èµ„æ–™
- `/player/orders` - æ¥å•ç®¡ç†
- `/player/funds` - èµ„é‡‘ç®¡ç†

### ç®¡ç†ç«¯
- `/admin/dashboard` - ç®¡ç†ä»ªè¡¨æ¿
- `/admin/users` - ç”¨æˆ·ç®¡ç†
- `/admin/players` - é™ªç©ç®¡ç†
- `/admin/orders` - è®¢å•ç®¡ç†

## ğŸ› å¸¸è§é—®é¢˜

### 1. ç«¯å£å†²çª
å¦‚æœç«¯å£è¢«å ç”¨ï¼Œå¯ä»¥ä¿®æ”¹å¯åŠ¨å‘½ä»¤ï¼š
```bash
# åç«¯ä½¿ç”¨å…¶ä»–ç«¯å£
PORT=3001 node src/index.js

# å‰ç«¯ä½¿ç”¨å…¶ä»–ç«¯å£  
npm run dev -- --port 3005
```

### 2. æ•°æ®åº“è¿æ¥å¤±è´¥
æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿MySQLæœåŠ¡å·²å¯åŠ¨ã€‚

### 3. APIè¯·æ±‚å¤±è´¥
ç¡®è®¤å‰åç«¯éƒ½å·²æ­£å¸¸å¯åŠ¨ï¼Œæ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰CORSé”™è¯¯ã€‚

## ğŸ‰ æµ‹è¯•é“¾æ¥

å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥è®¿é—®ä»¥ä¸‹é“¾æ¥è¿›è¡Œæµ‹è¯•ï¼š

- **å‰ç«¯åº”ç”¨**: http://localhost:3004
- **åç«¯API**: http://localhost:3000/api
- **APIå¥åº·æ£€æŸ¥**: http://localhost:3000/api/health (å¦‚æœæœ‰)

---

**æœ€åæ›´æ–°**: 2024å¹´12æœˆ | **çŠ¶æ€**: âœ… å·²éªŒè¯å¯æ­£å¸¸å¯åŠ¨
        